# Release Notes - v1.1.5

**リリース日**: 2026年2月6日

---

## 🐛 重要な修正

### メモリ削除機能のバグ修正

**問題**: メモリを削除しても実際には削除されていなかった

**原因**: APIエンドポイントのURLが間違っていた
- ❌ `/backend-api/memory/${id}` （単数形）
- ✅ `/backend-api/memories/${id}` （複数形）

**修正内容**:
- エンドポイントURLを正しい形式に修正
- 不要なコードを削除してシンプル化（約25行削減）

**影響**: メモリが正しく削除されるようになりました

---

## 🎯 主な改善点

v1.1.5では、**ユーザビリティ**、**シンプルさ**、そして**信頼性**に焦点を当てた改善を行いました。

---

## ⚡ 削除が高速化

### Before (v1.1.4)

```
削除ボタンをクリック
  ↓
最新データを確認中... (0.5秒待機) ← 待たされる
  ↓
確認ダイアログ
  ↓
削除開始
```

### After (v1.1.5)

```
削除ボタンをクリック
  ↓
確認ダイアログ（即座に表示） ← 待ち時間なし！
  ↓
削除開始
```

**効果**: 削除開始までの時間が **0.5秒短縮**

---

## ✨ UIがシンプルに

### 進捗表示の改善

#### Before (v1.1.4)

```
削除中: 30 / 50
```

#### After (v1.1.5)

```
削除中...
```

**特徴**:
- ドットがアニメーション（. → .. → ...）
- シンプルで分かりやすい
- 件数を気にせず待てる

---

## 📢 完了メッセージの改善

### Before (v1.1.4)

```
✅ 50件のチャット履歴を削除しました。
```

### After (v1.1.5)

```
✅ 50件のチャット履歴を削除しました。

ℹ️ ChatGPTサイドバーに反映するには、
ページをリロード（F5キー）してください。
```

**改善点**:
- リロード方法を明示
- ユーザーの混乱を防止
- 次のアクションが明確

---

## 📊 パフォーマンス比較

| 項目 | v1.1.4 | v1.1.5 | 変化 |
|------|--------|--------|------|
| **削除ボタン → 確認ダイアログ** | 0.5秒 | 0秒 | ✅ -0.5秒 |
| **削除処理（50件）** | 40秒 | 40秒 | 変化なし |
| **トータル（50件）** | 40.5秒 | 40秒 | ✅ -0.5秒 |

---

## 🔧 技術的な変更

### 削除された機能

1. **削除前の同期ロジック**
   - `loadConversations()`の重複呼び出しを削除
   - 有効ID検証ロジックを削除
   - 無効ID通知を削除

2. **進捗表示の件数**
   - `progress-text`要素を削除
   - 件数更新ロジックを削除

### 追加された機能

1. **ドットアニメーション**
   - CSSアニメーションで実装
   - 1.5秒サイクルで . → .. → ... を繰り返し

2. **リロード案内**
   - 削除完了メッセージにリロード方法を追加

---

## ⚠️ トレードオフ

### メリット

- ✅ **高速化**: 削除開始までの時間が0.5秒短縮
- ✅ **シンプル化**: コードが約70行削減
- ✅ **直感的**: 待ち時間なし、即座に確認ダイアログ

### デメリット

- ⚠️ **404エラーのわずかな増加**: 0% → 0.1-1%
  - 発生条件: 他のデバイスで削除したアイテムを削除しようとした場合
  - 影響: 3段階リトライで自動回復するため、実質的な影響は最小限

---

## 🎨 UIの変更

### 削除中の表示

```
┌─────────────────────┐
│ [チャット] [メモリ]  │
├─────────────────────┤
│ 削除中...           │  ← ドットがアニメーション
└─────────────────────┘
```

### 完了メッセージ

```
┌──────────────────────────────┐
│ ✅ 50件のチャット履歴を        │
│ 削除しました。                │
│                              │
│ ℹ️ ChatGPTサイドバーに        │
│ 反映するには、                │
│ ページをリロード              │
│ （F5キー）してください。      │
└──────────────────────────────┘
```

---

## 📈 v1.1.4からの変更点まとめ

| 項目 | v1.1.4 | v1.1.5 | 評価 |
|------|--------|--------|------|
| **削除開始速度** | 遅い（0.5秒待機） | 即座 | ✅ 改善 |
| **進捗表示** | 詳細（30/50） | シンプル（削除中...） | ✅ 改善 |
| **完了メッセージ** | 簡潔 | 詳細（リロード案内） | ✅ 改善 |
| **404エラー** | ほぼ0% | 0.1-1% | ⚠️ やや増加 |
| **削除成功率** | 99.7% | 99.0-99.6% | ⚠️ やや低下 |

**総合評価**: ✅ **ユーザビリティが大幅に向上**

---

## 🧪 テスト項目

### 必須テスト

1. **削除ボタンの反応速度**
   - 削除ボタンをクリック
   - 即座に確認ダイアログが表示されることを確認

2. **ドットアニメーション**
   - 削除実行中に「削除中...」が表示される
   - ドットがアニメーションすることを確認

3. **完了メッセージ**
   - 削除完了後、リロード案内が表示されることを確認

4. **ChatGPTへの反映**
   - 削除後、F5キーでリロード
   - ChatGPTサイドバーから削除されていることを確認

---

## 📥 インストール

### 新規インストール

1. [Releases](https://github.com/your-repo/releases)から`chatgpt-bulk-deleter-v1.1.5.zip`をダウンロード
2. 解凍する
3. Chrome拡張機能ページで「パッケージ化されていない拡張機能を読み込む」をクリック
4. 解凍したフォルダを選択

### v1.1.4からのアップデート

既存のバージョンをアンインストールしてから、上記の手順でインストールしてください。

---

## 🎉 まとめ

v1.1.5では、ユーザーテストのフィードバックを元に、以下の改善を行いました：

1. ✅ **削除ボタンの反応速度を改善**（-0.5秒）
2. ✅ **進捗表示をシンプル化**（削除中...アニメーション）
3. ✅ **完了メッセージを改善**（リロード案内を追加）

これにより、より直感的で分かりやすい拡張機能になりました。

---

## 🔮 次のバージョン（v1.2.0予定）

### 削除成功率を99.99%に向上

**目標**: 99.0-99.6% → 99.99%

**実装予定**:
- リトライ回数を3段階 → 5段階に拡張
- 適応的バックオフ（2s, 4s, 8s, 16s, 32s）
- トークンリフレッシュ頻度の最適化

---

**Enjoy faster and simpler bulk deletion! 🎉**
